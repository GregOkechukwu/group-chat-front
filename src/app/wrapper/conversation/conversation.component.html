<button *ngIf = "section === userConversationSection" (click) = "goBack()" class = "button rounded" style = "width : 5rem; margin-top : 10px; font-size: 13px" >BACK</button>

<ng-container [ngSwitch] = 'section'>

    <ng-container *ngSwitchCase = 'createJoinConversationSection'>
        <ng-container *ngTemplateOutlet = "createJoinConversation"></ng-container>
    </ng-container>

    <ng-container *ngSwitchCase = 'newConversationSection'> 
        <ng-container *ngTemplateOutlet = "newConversation"></ng-container>
    </ng-container>

    <ng-container *ngSwitchCase = 'userConversationSection'>
        <ng-container *ngTemplateOutlet = "userConversations"></ng-container>
    </ng-container>

    <ng-container *ngSwitchCase = 'chatRoomSection'>
        <ng-container *ngTemplateOutlet = "chatRoom"></ng-container>
    </ng-container>

</ng-container> 

<ng-template #createJoinConversation>
    <app-first-section
        [title] = "'MY CONVERSATIONS'"
        [buttonAText] = "'CREATE'"
        [buttonBText] = "'JOIN'"
        (clickA) = "toSection(newConversationSection)"
        (clickB) = "getConversations()">
    </app-first-section>
</ng-template>

<ng-template #newConversation>
    <app-new-conversation (goToCreateJoinConversation) = 'toSection(createJoinConversationSection, $event)'></app-new-conversation>
</ng-template>

<ng-template #userConversations>
    <div class = 'conversation-wrapper d-flex flex-nowrap flex-column align-items-center justify-content-center'>
        <h5 style = "margin : 2rem 0 1rem 0;">MY CONVERSATIONS</h5>

        <div class = "d-flex flex-nowrap flex-column align-items-center">
            <p *ngIf = "conversations.length === 0" style = "margin-top : 10rem;" >YOU HAVE NO CONVERSATIONS</p>

            <div *ngIf = "conversations.length > 0" class = "d-flex flex-wrap flex-row justify-content-center align-content-start">
                <ng-container *ngFor = "let conversation of conversations; index as i;">
                    <app-conversation-display
                        [index] = "i"
                        [conversationId] = "conversation.conversationId"
                        [conversationName] = "conversation.conversationName"
                        [conversationHost] = "conversation.conversationHost"
                        [userCount] = "conversation.userCount"
                        [hostUser_Base64] = "conversation.prioritizedPics.hostUser.byteArrBase64"
                        [hostUser_MimeType] = "conversation.prioritizedPics.hostUser.mimeType"
                        [hostUser_hasProfilePic] = "conversation.prioritizedPics.hostUser.hasProfilePic"
                        [userA_Base64] = "conversation.prioritizedPics.prioritizedUserA.byteArrBase64"
                        [userA_MimeType] = "conversation.prioritizedPics.prioritizedUserA.mimeType"
                        [userA_hasProfilePic] = "conversation.prioritizedPics.prioritizedUserA.hasProfilePic"
                        [userB_Base64] = "conversation.prioritizedPics.prioritizedUserB.byteArrBase64"
                        [userB_MimeType] = "conversation.prioritizedPics.prioritizedUserB.mimeType"
                        [userB_hasProfilePic] = "conversation.prioritizedPics.prioritizedUserB.hasProfilePic"
                        (goToChatRoom) = "toChatRoom($event)">
                    </app-conversation-display>
                </ng-container>
            </div>      
        </div>
    </div>
</ng-template>

<ng-template #chatRoom>
    <div class = "chat-room-wrapper d-inline-flex flex-row flex-nowrap">
        <app-users-in-chat *ngIf = "showUserPanel" [users] = "chatUsers"></app-users-in-chat>
        <app-chat 
            [userId] = "userId" 
            [username] = "username"
            [firstName] = "firstName"
            [lastName] = "lastName"
            [conversationId] = "conversationId" 
            [userPanelIsShown] = "showUserPanel"
            [userMessages] = "userMessages"
            (exit) = "goBack()" 
            (toggleUserPanel) = "onToggleUserPanel($event)">
        </app-chat>
    </div>
</ng-template>








